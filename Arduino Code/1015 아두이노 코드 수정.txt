속도 측정 문제

ㅇ문제1
vel = (WHITE_LENGTH/delta)*36.0 <- 코드상의 문제
WHITE_LENGTH가 delta보다 작은경우 소수로 표현됨. 이때 소수점 표현으로 인한 정보손실발생, 이후 36을 곱하여도 속도계산이 재대로 안됨
ㅁ해결1
vel = WHITE_LENGTH*36.0/delta 나눗셈의 순서를 뒤로 밀어 정보손실 최소화


ㅇ문제2
루프 한 번에 걸리는 시간이 하얀 마킹을 지나가는데 걸리는 시간보다 긴 경우, 센서 수신이 안됨
ㅁ해결2
보드레이트 값을 수정하고 SD카드를 제거하여 루프 소요시간 최소화,
하얀색 마킹의 길이를 마킹 없는 부분의 길이와 동일하게 설정하여 센서 데이터 손실 최소화 


ㅁ루프 소요시간과 속도의 관계
아두이노 우노와 메가의 클럭수는 동일하고 메모리의 크기만 차이남 
-> 루프 한 번돌 때 걸리는 시간은 동일한데 메가는 한 루프에서 더 많은 변수와 명령어를 수행할 수 있음

루프 한 번돌 때 걸리는 시간은 시리얼 보드레이트가 영향을 미침
-> 9600 보드레이트의 경우 루프 한 번에 33ms 소요됨, 57600 보드레이트-5ms, 74880보드레이트-4ms이하

루프 소요시간은 측정할 수 있는 속도의 범위와 해상도에 영향을 미침 (매 루프마다 센서값을 받아오기때문)
-> 33ms의 경우 최대 56km/h부터 28, 18.7, 14, 11.2, 9.3, 8, 7 ... (56 나누기 1,2,3,4... 에 해당하는 값으로 속도를 측정함)
4ms의 경우 450, ..., 37.5, 34.6, 32.1, 30, 28.1,... (450 나누기 1,2,3,4... 에 해당하는 값) => 실측범위의 해상도 2미만의 값

SD카드 사용시 보드레이트를 높여도 루프소요시간 25ms이하로 내려가지 않음, 
-> SD카드 제거, 시리얼 통신 창의 데이터 사용(메크로 사용X), 원활한 시리얼 통신 데이터 수집을 위한 스위치 부착(스위치 열려있을때만 데이터 수집)

=> mega_switch, uno_switch 사용